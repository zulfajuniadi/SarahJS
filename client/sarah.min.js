var Sarah=Sarah||{};!function(a,b,c,d){function L(){try{return I in win&&win[I]}catch(a){return!1}}function P(a){return function(){var b=Array.prototype.slice.call(arguments,0);b.unshift(K),M.appendChild(K),K.addBehavior("#default#userData"),K.load(I);var c=a.apply(G,b);return M.removeChild(K),c}}function R(a){return a.replace(Q,"___")}function S(a){return e.timeAgo.inWords(T(a))}function T(a){return(new Date).getTime()-a.getTime()}var a=a||{},e=a.Utils={},f=a.Cache={};Function.prototype.isFunction=!0,e.genId=function(){function a(){return(0|65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()};var g={noMore:!1},h=[],i=function(a){var b={};return a&&"[object Function]"==b.toString.call(a)},j=function(a){return 0===a%1},k=function(a){return"[object Array]"===Object.prototype.toString.call(a)},l=function(a,b){var c=[],d=[];if("string"!=typeof a&&"string"!=typeof b&&!k(a)&&!k(b)){for(var e in a)b[e]||c.push(e);for(var f in b)a[f]||d.push(f)}return{added:c,removed:d}},m=function(a){if(null==a||"object"!=typeof a)return a;var b=a.constructor();for(var c in a)b[c]=a[c];return b},n=function(a,b,c,d){try{Object.defineProperty(a,b,{get:c,set:d,enumerable:!0,configurable:!0})}catch(e){try{Object.prototype.__defineGetter__.call(a,b,c),Object.prototype.__defineSetter__.call(a,b,d)}catch(f){throw new Error("watchJS error: browser not supported :/")}}},o=function(a,b,c){try{Object.defineProperty(a,b,{enumerable:!1,configurable:!0,writable:!1,value:c})}catch(d){a[b]=c}},p=function(){i(arguments[1])?q.apply(this,arguments):k(arguments[1])?r.apply(this,arguments):s.apply(this,arguments)},q=function(a,b,c,d){if("string"!=typeof a&&(a instanceof Object||k(a))){var e=[];if(k(a))for(var f=0;f<a.length;f++)e.push(f);else for(var g in a)e.push(g);r(a,e,b,c,d)}},r=function(a,b,c,d,e){if("string"!=typeof a&&(a instanceof Object||k(a)))for(var f in b)s(a,b[f],c,d,e)},s=function(a,b,c,d,e){"string"!=typeof a&&(a instanceof Object||k(a))&&(i(a[b])||(null!=a[b]&&(void 0===d||d>0)&&(void 0!==d&&d--,q(a[b],c,d)),w(a,b,c),e&&D(a,b,c,d)))},t=function(){i(arguments[1])?u.apply(this,arguments):k(arguments[1])?v.apply(this,arguments):B.apply(this,arguments)},u=function(a,b){if(!(a instanceof String)&&(a instanceof Object||k(a))){var c=[];if(k(a))for(var d=0;d<a.length;d++)c.push(d);else for(var e in a)c.push(e);v(a,c,b)}},v=function(a,b,c){for(var d in b)B(a,b[d],c)},w=function(a,b,c){var d=a[b];A(a,b),a.watchers||o(a,"watchers",{}),a.watchers[b]||(a.watchers[b]=[]);for(var e in a.watchers[b])if(a.watchers[b][e]===c)return;a.watchers[b].push(c);var f=function(){return d},h=function(e){var f=d;d=e,a[b]&&q(a[b],c),A(a,b),g.noMore||JSON.stringify(f)!==JSON.stringify(e)&&(x(a,b,"set",e,f),g.noMore=!1)};n(a,b,f,h)},x=function(a,b,c,d,e){if(b)for(var f in a.watchers[b])j(f)&&a.watchers[b][f].call(a,b,c,d||a[b],e);else for(var b in a)x(a,b,c,d,e)},y=["pop","push","reverse","shift","sort","slice","unshift"],z=function(a,b,c,d){o(a[b],d,function(){var e=c.apply(a[b],arguments);return s(a,a[b]),"slice"!==d&&x(a,b,d,arguments),e})},A=function(a,b){if(a[b]&&!(a[b]instanceof String)&&k(a[b]))for(var d,c=y.length;c--;)d=y[c],z(a,b,a[b][d],d)},B=function(a,b,c){for(var d in a.watchers[b]){var e=a.watchers[b][d];e==c&&a.watchers[b].splice(d,1)}E(a,b,c)},C=function(){for(var a in h){var b=h[a],c=l(b.obj[b.prop],b.actual);if(c.added.length||c.removed.length){if(c.added.length)for(var d in b.obj.watchers[b.prop])r(b.obj[b.prop],c.added,b.obj.watchers[b.prop][d],b.level-1,!0);x(b.obj,b.prop,"differentattr",c,b.actual)}b.actual=m(b.obj[b.prop])}},D=function(a,b,c,d){h.push({obj:a,prop:b,actual:m(a[b]),watcher:c,level:d})},E=function(a,b,c){for(var d in h){var e=h[d];e.obj==a&&e.prop==b&&e.watcher==c&&h.splice(d,1)}};setInterval(C,16),g.watch=p,g.unwatch=t,g.callWatchers=x,e.watch=g.watch;var F=f.pubsub||{};e.publish=function(a,b){for(var c=F[a],d=c?c.length:0;d--;)c[d].apply(e,[b]||[])},e.subscribe=function(a,b){return F[a]||(F[a]=[]),F[a].push(b),[a,b]},e.unsubscribe=function(a,b){for(var c=F[b?a:a[0]],b=b||a[1],d=c?c.length:0;d--;)c[d]===b&&c.splice(d,1)},e.Store={};var K,G={},H=document,I="localStorage",J="__storejs__";if(G.disabled=!1,G.set=function(){},G.get=function(){},G.remove=function(){},G.clear=function(){},G.transact=function(a,b,c){var d=G.get(a);null==c&&(c=b,b=null),"undefined"==typeof d&&(d=b||{}),c(d),G.set(a,d)},G.getAll=function(){},G.serialize=function(a){return JSON.stringify(a)},G.deserialize=function(a){if("string"!=typeof a)return void 0;try{return JSON.parse(a)}catch(b){return a||void 0}},L())K=win[I],G.set=function(a,b){return void 0===b?G.remove(a):(K.setItem(a,G.serialize(b)),b)},G.get=function(a){return G.deserialize(K.getItem(a))},G.remove=function(a){K.removeItem(a)},G.clear=function(){K.clear()},G.getAll=function(){for(var a={},b=0;b<K.length;++b){var c=K.key(b);a[c]=G.get(c)}return a};else if(H.documentElement.addBehavior){var M,N;try{N=new ActiveXObject("htmlfile"),N.open(),N.write('<script>document.w=window</script><iframe src="/favicon.ico"></iframe>'),N.close(),M=N.w.frames[0].document,K=M.createElement("div")}catch(O){K=H.createElement("div"),M=H.body}var Q=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");G.set=P(function(a,b,c){return b=R(b),void 0===c?G.remove(b):(a.setAttribute(b,G.serialize(c)),a.save(I),c)}),G.get=P(function(a,b){return b=R(b),G.deserialize(a.getAttribute(b))}),G.remove=P(function(a,b){b=R(b),a.removeAttribute(b),a.save(I)}),G.clear=P(function(a){var b=a.XMLDocument.documentElement.attributes;a.load(I);for(var d,c=0;d=b[c];c++)a.removeAttribute(d.name);a.save(I)}),G.getAll=P(function(a){for(var e,b=a.XMLDocument.documentElement.attributes,c={},d=0;e=b[d];++d){var f=R(e.name);c[e.name]=G.deserialize(a.getAttribute(f))}return c})}try{G.set(J,J),G.get(J)!=J&&(G.disabled=!0),G.remove(J)}catch(O){G.disabled=!0}G.enabled=!G.disabled,"undefined"!=typeof module&&module.exports?module.exports=G:"function"==typeof define&&define.amd?define(G):e.Store=G,e.timeAgo=function(a){return a instanceof Date?S(a):"string"==typeof a?S(e.timeAgo.parse(a)):"number"==typeof a?S(new Date(a)):S(e.timeAgo.datetime(a))},e.timeAgo=c.extend(e.timeAgo,{settings:{refreshMillis:6e4,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(a){function j(c,d){var e=c.isFunction?c(d,a):c,f=b.numbers&&b.numbers[d]||d;return e.replace(/%d/i,f)}var b=this.settings.strings,c=b.prefixAgo,d=b.suffixAgo;this.settings.allowFuture&&0>a&&(c=b.prefixFromNow,d=b.suffixFromNow);var e=Math.abs(a)/1e3,f=e/60,g=f/60,h=g/24,i=h/365,k=45>e&&j(b.seconds,Math.round(e))||90>e&&j(b.minute,1)||45>f&&j(b.minutes,Math.round(f))||90>f&&j(b.hour,1)||24>g&&j(b.hours,Math.round(g))||42>g&&j(b.day,1)||30>h&&j(b.days,Math.round(h))||45>h&&j(b.month,1)||365>h&&j(b.months,Math.round(h/30))||1.5>i&&j(b.year,1)||j(b.years,Math.round(i)),l=b.wordSeparator||"";return void 0===b.wordSeparator&&(l=" "),[c,k,d].join(l).trim()},parse:function(a){var b=a.trim();return b=b.replace(/\.\d+/,""),b=b.replace(/-/,"/").replace(/-/,"/"),b=b.replace(/T/," ").replace(/Z/," UTC"),b=b.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(b)}}),document.createElement("abbr"),document.createElement("time"),f.bindElement={},c.each({timeAgo:function(a){return e.timeAgo(a)},debug:function(a){console.log("Current Context"),console.log("===================="),console.log(this),a&&(console.log("Value"),console.log("===================="),console.log(a))},bindElement:function(a,b,c){b.fn&&(c=b,b="");var d=e.genId();return f.bindElement[d]=this,"<"+a+' data-binding="'+d+'" '+b+">"+c.fn(this)+"</"+a+">"},and:_and=function(a,b,c){return a&&b?c.fn(this):c.inverse(this)},gt:gt=function(a,b,c){return a>b?c.fn(this):c.inverse(this)},gte:gte=function(a,b,c){return a>=b?c.fn(this):c.inverse(this)},is:_is=function(a,b,c){return a===b?c.fn(this):c.inverse(this)},isnt:_isnt=function(a,b,c){return a!==b?c.fn(this):c.inverse(this)},lt:lt=function(a,b,c){return b>a?c.fn(this):c.inverse(this)},lte:lte=function(a,b,c){return b>=a?c.fn(this):c.inverse(this)},or:_or=function(a,b,c){return a||b?c.fn(this):c.inverse(this)},if_eq:if_eq=function(a,b){return a===b.hash.compare?b.fn(this):b.inverse(this)},unless_eq:unless_eq=function(a,b){return a===b.hash.compare?b.inverse(this):b.fn(this)},if_gt:if_gt=function(a,b){return a>b.hash.compare?b.fn(this):b.inverse(this)},unless_gt:unless_gt=function(a,b){return a>b.hash.compare?b.inverse(this):b.fn(this)},if_lt:if_lt=function(a,b){return a<b.hash.compare?b.fn(this):b.inverse(this)},unless_lt:unless_lt=function(a,b){return a<b.hash.compare?b.inverse(this):b.fn(this)},if_gteq:if_gteq=function(a,b){return a>=b.hash.compare?b.fn(this):b.inverse(this)},unless_gteq:unless_gteq=function(a,b){return a>=b.hash.compare?b.inverse(this):b.fn(this)},if_lteq:if_lteq=function(a,b){return a<=b.hash.compare?b.fn(this):b.inverse(this)},unless_lteq:unless_lteq=function(a,b){return a<=b.hash.compare?b.inverse(this):b.fn(this)},ifAny:ifAny=function(){var a,b,c,d;for(a=arguments.length-2,b=arguments[a+1],d=!0,c=0;a>c;){if(!arguments[c]){d=!1;break}c+=1}return d?b(this):b.inverse(this)},thSorter:function(a,b,c,d){var a=a||{},e=a.sortBy===c?'&nbsp;&nbsp;&nbsp;<i class="icon-chevron-'+a.sortDir+'"></i>':"";return"<"+b+' class="sortable" data-prop="'+c+'"">'+d+e+"</"+b+">"}},function(a,c){b.registerHelper(c,a)}),e.getTemplateVars=function(a){return c.uniq(c.compact(c.flatten((a.match(/\{\{#?[\w].+?\}\}|\{\{#if?[\w].+?\}\}/g)||[]).map(function(a){return a.replace(/#[\w.]+\s/,"").split(" ")})).map(function(a){return a.replace(/\{\{|\}\}/g,"").replace("../","")}).map(function(a){return a.indexOf('"')>-1||a.indexOf("'")>-1||c.keys(b.helpers).indexOf(a)>-1||"else"===a?void 0:a})))};var e=a.Utils;a.Configure=function(b){var d={jsonPollInterval:1e4,syncOnConnect:!0,ImmidateSyncOnDataChange:!0,apiKey:null,emulateHttp:!1};a.config=c.extend(d,b||{})},a.init=function(){d('[type="template"]').each(function(b,c){var c=d(c),e=c.attr("name");c.length>0&&e&&(a.Templates[e]=new a.Template(e,c.html()))}),window.Session=new a.Session,window.Deps=new a.Deps,window.Template=a.Templates,window.Router=new a.Router,window.Collection=a.Collection,window.Utils=a.Utils,window.View=a.View,window.Views=a.Views},a.Dependency=function(a,b,c){var d=this.self=this;d.name=a,d.watch=b,d.lastResult=null,d.callback=c},a.Deps=function(){var a=this;this.watchList=[],this.interval;var c;this.evalLoop=function(){a.watchList.length>0?a.interval=setInterval(function(){a.watchList=a.watchList.map(function(a){var b=a.watch();return b&&JSON.stringify(b)!==JSON.stringify(a.lastResult)&&(a.callback(b),a.lastResult=JSON.parse(JSON.stringify(b))),a})},16):c=setTimeout(function(){a.watchList.length>0&&(a.evalLoop(),clearTimeout(c))},100)},this.run()},a.Deps.prototype.run=function(){this.evalLoop()},a.Deps.prototype.stop=function(){clearInterval(this.interval)},a.Deps.prototype.reset=function(){this.watchList=[],this.run()},a.Deps.prototype.register=function(b,c,d){var c=c||"";if(c.isFunction&&d.isFunction){var e=new a.Dependency(b,c,d);this.watchList.push(e)}},a.Deps.prototype.unregister=function(a){this.watchList=c.without(this.watchList,c.where(this.watchList,{name:a}))};var U=a.Router=function(){this.init()};U.prototype._routes=[],U.prototype.parseRoute=function(a){return this.parseGroups=function(a){for(var b=new RegExp(":([^/.\\\\]+)","g"),c=""+a,d={},e=null,f=0;e=b.exec(a);)d[e[1]]=f++,c=c.replace(e[0],"([^/.\\\\]+)");return c+="$",{groups:d,regexp:new RegExp(c)}},this.parseGroups(a)},U.prototype.matchRoute=function(b,d){var e=null;if(this._routes.length>0)for(var f=0;e=this._routes[f];f++){var g=e.regex.regexp.exec(b);if(0!=!!g){var h={};for(var i in e.regex.groups){var j=e.regex.groups[i];h[i]=g[j+1]}var k={};if(d&&d.target instanceof HTMLFormElement){var l=d.target;l.length;for(var n,o=0;n=l[o];o++)n.name&&(k[n.name]=n.value)}var p=c.extend(d,{url:b,params:h,values:k});return c.each(a.Templates,function(a){a._persistant||a.removeOutlets()}),e.callback(p),!0}}return!1},U.prototype.get=function(a,b){this._routes.push({regex:this.parseRoute(a),callback:b,method:"get"})},U.prototype.post=function(a,b){this._routes.push({regex:this.parseRoute(a),callback:b,method:"post"})},U.prototype.test=function(a){this.matchRoute(a)},U.prototype.getRoutes=function(){return this._routes},U.prototype.init=function(){var a=this,b=!1,c=!1,d=!1;if(window.history&&window.history.pushState){var f=history.__proto__.pushState;history.__proto__.pushState=function(a){f.apply(history,arguments);var d=document.createEvent("Event");d.initEvent("statechanged",!1,!1),d.state=a,window.dispatchEvent(d)}}a.run=function(){b||(a.matchRoute(document.location.pathname),b=!0),e.publish("Route",{router:a,route:document.location.pathname})},window.addEventListener("submit",function(b){return b.preventDefault(),"post"==b.target.method&&a.matchRoute(b.target.action,b)?(b.preventDefault(),e.publish("Route",{router:a,route:b.target.action}),!1):!0}),window.addEventListener("popstate",function(){return d?(d=!1,c=!1,void 0):(a.matchRoute(document.location.pathname),c=!0,e.publish("Route",{router:a,route:document.location.pathname}),void 0)},!1),window.addEventListener("load",function(){b||(a.matchRoute(document.location.pathname),b=!0),c=!0,d=!0,e.publish("Route",{router:a,route:document.location.pathname})},!1),window.addEventListener("hashchange",function(){return c?(c=!1,d=!1,void 0):(a.matchRoute(document.location.pathname),e.publish("Route",{router:a,route:document.location.pathname}),void 0)},!1),window.addEventListener("click",function(b){if(c)return c=!1,d=!1,void 0;var f=event.target||event.srcElement;if("A"===f.tagName||"A"===f.parentNode.tagName){var g=f.href||f.parentNode.href;if(a.matchRoute(g))return b.preventDefault(),e.publish("Route",{router:a,route:g}),window.history.pushState({},document.title,g),!1}},!1)},a.Cache.db={};var V=a.Collection=function(b,c){this.name=b,a.Cache.db[b]=[],this.init(c)};V.prototype._softDelete=!1,V.prototype.get=function(b){var d={_id:b};return this._softDelete&&(d.deletedAt=null),b?c.findWhere(a.Cache.db[this.name],d):(delete d._id,c.findWhere(a.Cache.db[this.name],d))},V.prototype.getAll=function(){var b;return this._softDelete&&(b={},b.deletedAt=null),c.where(a.Cache.db[this.name],b)},V.prototype.where=function(b){var b=b;return this._softDelete&&(b.deletedAt=null),c.where(a.Cache.db[this.name],b)},V.prototype.findWhere=function(b){var b=b;return this._softDelete&&(b.deletedAt=null),c.findWhere(a.Cache.db[this.name],b)},V.prototype.insert=function(b,c){var c=c||!1;return void 0===b._id&&(b._id=e.genId(),b.insertedAt=new Date,b.updatedAt=new Date,b.deletedAt=null),a.Cache.db[this.name].push(b),c||(e.publish("Collection:"+this.name+".insert",b),Session.setFlash({type:"notification",message:"Data inserted successfully.",level:"success"})),!0},V.prototype.update=function(b,d,f){var f=f||!1,g=this.findWhere(b);if(g){var h=a.Cache.db[this.name].indexOf(g);d.updatedAt=new Date;var d=c.extend(g,d);a.Cache.db[this.name][h]=d}return f||(e.publish("Collection:"+this.name+".update",d),Session.setFlash({type:"notification",message:"Data updated successfully.",level:"success"})),!1},V.prototype.remove=function(b,d){var d=d||!1,f=this.findWhere(b),g=c.extend(f);this._softDelete?(f.deletedAt=new Date,this.update({_id:f.id},f)):a.Cache.db[this.name]=c.without(a.Cache.db[this.name],this.findWhere(b)),d||(e.publish("Collection:"+this.name+".remove",g),Session.setFlash({type:"notification",message:"Data removed successfully.",level:"success"}))},V.prototype.export=function(){return c.where(a.Cache.db[this.name],{isFixture:void 0})},V.prototype.import=function(b,c){var c=c||!0;return c&&(a.Cache.db[this.name]=b),JSON.stringify(a.Cache.db[this.name])},V.prototype.init=function(a){var b=this;if(a.fixtures&&a.fixtures.forEach(function(a){a.isFixture=!0,b.insert(a,!0)}),a.persistance&&a.persistance.localStorage){var c=function(){e.Store.set(b.name,b.export())};e.subscribe("Collection:"+b.name+".insert",function(){c()}),e.subscribe("Collection:"+b.name+".update",function(){c()}),e.subscribe("Collection:"+b.name+".remove",function(){c()}),(e.Store.get(b.name)||[]).forEach(function(a){a.insertedAt=new Date(a.insertedAt),a.updatedAt=new Date(a.updatedAt),a.deletedAt=new Date(a.deletedAt),b.insert(a,!0)})}a.softDelete&&(this._softDelete=a.softDelete)},a.Templates={};var X=a.Template=function(a,c){var d=this;this._name=a,this._html=c,b.registerPartial(a,c),this._outlets=[],this._attributes={},this._persistant=!1,e.watch(this,["_outlets"],function(){d.renderAll(!1)}),e.watch(this,["_eventsList"],function(){console.log("_eventsList changed"),d.renderAll(!0)}),e.getTemplateVars(c).forEach(function(a){d[a]="",e.watch(d,[a],function(){if(d[a].isFunction){var b={};b[a]=d[a],d.attributes(b)}})})};X.prototype.setOutlet=function(a,b){b&&(this._persistant=!0),this._outlets.push(a)},X.prototype.removeOutlet=function(a){Deps.unregister(self._name),this.unbindEvents(d(a)),d(a).empty(),this._outlets=c.without(this._outlets,a)},X.prototype.removeOutlets=function(){var a=this;this._outlets.forEach(function(b){a.removeOutlet(b)})},X.prototype.template=function(){return b.compile(this._html)},X.prototype.renderHtml=function(a){return this.template(a)},X.prototype.renderAll=function(a){var b=this;b._outlets.forEach(function(a){var a=d(a);b.unbindEvents(a),a.empty(),b.renderToElement(a),b.bindEvents(a)})},X.prototype.attributes=function(a){var b=this;Deps.unregister(b._name),c.each(a,function(a,c){a.isFunction&&Deps.register(b._name,a,function(a){b._attributes[c]=a,b.renderAll(!0)})})},X.prototype.unbindEvents=function(a){var a=d(a);d("*",a).each(function(a,b){d(b).off()}),a.off()},X.prototype.bindEvents=function(b){var b=d(b);c.each(this._eventsList,function(e,f){f.split(",").forEach(function(f){var g=f.trim().split(/\s+/),h=d(g[1],d(b));h.length>0&&h.each(function(b,f){var f=d(f),h=f.data("binding"),i={};h&&(i=a.Cache.bindElement[h]),f.on(g[0],f,function(a){var a=c.extend(a,{data:i});e(a,f)})})})})},X.prototype._eventsList={},X.prototype.events=function(a){var b=this;c.each(a,function(a,c){a.isFunction&&(b._eventsList[c]=a)})},X.prototype.render=function(){return this.template()(this._attributes)},X.prototype.renderToElement=function(a){var a=d(a);a.html(this.render())};var Y=a.Session=function(){var a=this;this.data=e.Store.get("___session___")||{},this.flashTimeout=1e3,e.watch(this,"_flash",function(b,c,d,f){"push"===c?(setTimeout(function(){a.unsetFlash(d[0])},a.flashTimeout),e.publish("Session:flash.set",d[0])):e.publish("Session:flash.unset",f[0])})};Y.prototype._flash=[],Y.prototype.setFlash=function(a){this._flash.push(a)},Y.prototype.unsetFlash=function(a){this._flash=c.without(this._flash,a)},Y.prototype.getFlash=function(){return this._flash||[]},Y.prototype.set=function(a,b){b?this.data[a]=b:delete this.data[a]},Y.prototype.get=function(a,b){return this.data[a]||b||[]},Y.prototype.push=function(a,b){var c=this;void 0===this.data[a]&&(this.data[a]=[]),this.data[a].map&&(b.map?b.forEach(function(b){c.data[a].push(b)}):c.data[a].push(b))},Y.prototype.pull=function(a,b){this.data[a].map&&(this.data[a]=c.without(this.data[a],b))},a.Views={},a.View=function(a,b){function h(a){c.each(a,function(a,b){if(a.template){var c=a.template;a.attributes&&c.attributes(a.attributes),a.events&&c.events(a.events),d._renderList.push([c,b])}})}var d=this;if(a&&b){this.name=a,this._renderList=[];var e=b.layout,f=b.partials;if(e){var g=c.keys(e)[0];d.outlet=g,h(e)}f&&h(f)}this.render=function(){setTimeout(function(){d._renderList.forEach(function(a){a[0].setOutlet(a[1])})},100)}},a.Modules={};var $=a.Module=function(){var b=this;b.onLeave=[],b.onEnter=[],b.listen=[],b.states={}};$.prototype.register=function(){},a.init()}(Sarah,Handlebars,_,$),window.onbeforeunload=function(){Utils.Store.set("___session___",Session.data)};